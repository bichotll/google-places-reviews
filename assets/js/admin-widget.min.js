!function(a){"use strict";function b(){a('.gpr-widget-toggler:not("clickable")').each(function(){a(this).addClass("clickable").unbind("click").click(function(){a(this).toggleClass("toggled"),a(this).next().slideToggle()})})}function c(){var b=a(".gpr-autocomplete");b.each(function(c){var e={types:["establishment"]},f=new google.maps.places.Autocomplete(b[c],e);d(f,b[c]),a(b).keydown(function(a){return 13==a.which?!1:void 0})})}function d(b,c){google.maps.event.addListener(b,"place_changed",function(){var d=b.getPlace();d.reference||alert("No place reference found for this location."),a(c).parentsUntil("form").find(".location").val(d.name),a(c).parentsUntil("form").find(".reference").val(d.reference),a(c).parentsUntil("form").find(".set-business").slideDown()})}function e(){a(".tooltip-info").tipsy({fade:!0,html:!0,gravity:"s",delayOut:1e3,delayIn:500})}a(function(){b(),c(),e()}),a(document).on("click",".gpr-clear-cache",function(b){b.preventDefault();var c=a(this);c.next(".cache-clearing-loading").fadeIn("fast");var d={action:"clear_widget_cache",transient_id_1:a(this).data("transient-id-1"),transient_id_2:a(this).data("transient-id-2")};jQuery.post(ajaxurl,d,function(b){a(".cache-clearing-loading").hide(),c.prev(".cache-message").text(b).fadeIn("fast").delay(2e3).fadeOut()})}),a(document).ajaxSuccess(function(){b(),c(),e()})}(jQuery);